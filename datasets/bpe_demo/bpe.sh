#!/bin/bash
sentencepiece_build_folder="/home/lpmayos/code/sentencepiece-master/build"
test_folder="/home/lpmayos/code/UniParse/datasets/bpe_test"
model_name="big_model"

cd $sentencepiece_build_folder

echo "training..."
spm_train --input=/home/lpmayos/code/UniParse/datasets/PTB_SD_3_3_0/train.gold.txt,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00000-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00001-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00002-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00003-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00004-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00005-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00006-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00007-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00008-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00009-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00010-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00011-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00012-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00013-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00014-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00015-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00016-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00017-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00018-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00019-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00020-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00021-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00022-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00023-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00024-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00025-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00026-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00027-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00028-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00029-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00030-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00031-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00032-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00033-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00034-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00035-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00036-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00037-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00038-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00039-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00040-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00041-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00042-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00043-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00044-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00045-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00046-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00047-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00048-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00049-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00050-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00051-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00052-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00053-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00054-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00055-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00056-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00057-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00058-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00059-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00060-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00061-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00062-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00063-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00064-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00065-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00066-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00067-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00068-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00069-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00070-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00071-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00072-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00073-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00074-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00075-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00076-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00077-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00078-of-00100,/home/lpmayos/code/datasets/1-billion-word-language-modeling-benchmark-r13output/text/training-monolingual.tokenized.shuffled/news.en-00079-of-00100 --model_prefix=$model_name --vocab_size=80000 --character_coverage=1.0 --model_type=bpe
mv $model_name.model $test_folder
mv $model_name.vocab $test_folder


# echo "training..."
# spm_train --input=$test_folder/babau1.txt,$test_folder/babau2.txt,$test_folder/babau3.txt --model_prefix=$model_name --vocab_size=80000 --character_coverage=1.0 --model_type=bpe
# mv $model_name.model $test_folder
# mv $model_name.vocab $test_folder

# echo "encoding..."
# spm_encode --model=$test_folder/$model_name.model --output_format=piece < $test_folder/babau4.txt > $test_folder/babau4_encoded.txt

# echo "decoding..."
# spm_decode --model=$test_folder/$model_name.model --input_format=piece < $test_folder/babau4_encoded.txt > $test_folder/babau4_decoded.txt
